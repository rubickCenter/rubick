(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{281:function(t,a,s){"use strict";s.r(a);var n=s(14),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),a("h3",{attrs:{id:"onpluginready-callback-、onpluginenter-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onpluginready-callback-、onpluginenter-callback"}},[t._v("#")]),t._v(" onPluginReady(callback)、onPluginEnter(callback)")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("callback")]),t._v(" Function")])]),t._v(" "),a("p",[a("code",[t._v("callback")]),t._v(" 内会返回一个 "),a("code",[t._v("object")]),t._v(" 对象，来描述进入当前插件的环境信息：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("code")]),t._v(" String")])]),t._v(" "),a("blockquote",[a("p",[t._v("plugin.json 配置的 feature.code")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("type")]),t._v(" String")])]),t._v(" "),a("blockquote",[a("p",[t._v('plugin.json 配置的 feature.cmd.type，可以为 "text"、"img"、 "files"、 "regex"、 "over"、"window"')])]),t._v(" "),a("ul",[a("li",[t._v("payload String | Object | Array")])]),t._v(" "),a("blockquote",[a("p",[t._v("feature.cmd.type 对应匹配的数据")])]),t._v(" "),a("p",[t._v("当插件装载成功，rubick 将会主动调用这个方法, 所有的 "),a("code",[t._v("api")]),t._v(" 都应该在 "),a("code",[t._v("onPluginReady")]),t._v(" 之后进行调用。")]),t._v(" "),a("h4",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("rubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onPluginReady")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" payload "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'插件装配完成，已准备好'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/* \ntype 为 "files" 时， payload 值示例\n[\n\t{\n\t\t"isFile": true,\n\t\t"isDirectory": false,\n\t\t"name": "demo.js",\n\t\t"path": "C:\\\\demo.js"\n\t}\n]\n\ntype 为 "img" 时， payload 值示例\ndata:image/png;base64,...\n\ntype 为 "text"、"regex"、 "over" 时， payload 值为进入插件时的主输入框文本\n*/')]),t._v("\n")])])]),a("h3",{attrs:{id:"onpluginout-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onpluginout-callback"}},[t._v("#")]),t._v(" onPluginOut(callback)")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("callback")]),t._v(" Function")])]),t._v(" "),a("p",[t._v("每当插件从前台进入到后台时，rubick 将会主动调用这个方法。")]),t._v(" "),a("h2",{attrs:{id:"窗口交互"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#窗口交互"}},[t._v("#")]),t._v(" 窗口交互")]),t._v(" "),a("h3",{attrs:{id:"hidemainwindow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hidemainwindow"}},[t._v("#")]),t._v(" hideMainWindow()")]),t._v(" "),a("p",[t._v("隐藏主窗口")]),t._v(" "),a("h3",{attrs:{id:"showmainwindow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#showmainwindow"}},[t._v("#")]),t._v(" showMainWindow()")]),t._v(" "),a("p",[t._v("显示主窗口")]),t._v(" "),a("h3",{attrs:{id:"setexpendheight-height"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setexpendheight-height"}},[t._v("#")]),t._v(" setExpendHeight(height)")]),t._v(" "),a("p",[t._v("执行该方法将会修改插件窗口的高度。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("height")]),t._v(" Integer")]),t._v(" "),a("li",[t._v("返回 "),a("code",[t._v("Boolean")])])]),t._v(" "),a("h4",{attrs:{id:"示例-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-2"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("rubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setExpendHeight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"setsubinput-onchange-placeholder"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setsubinput-onchange-placeholder"}},[t._v("#")]),t._v(" setSubInput(onChange, placeholder)")]),t._v(" "),a("p",[t._v("设置插件输入框监听，当进入插件后，用户搜索会触发"),a("code",[t._v("onChange")]),t._v(" 函数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("onChange")]),t._v(" Function\n"),a("ul",[a("li",[a("code",[t._v("Object")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("text")]),t._v(" String")])])])])])]),t._v(" "),a("blockquote",[a("p",[t._v("子输入框文本修改时触发")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("placeholder")]),t._v(" String (可选)")])]),t._v(" "),a("blockquote",[a("p",[t._v("子输入框占位符")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("isFocus")]),t._v(" Boolean (可选)")])]),t._v(" "),a("blockquote",[a("p",[t._v("子输入框是否获得焦点，默认 true")])]),t._v(" "),a("p",[a("code",[t._v("返回 Boolean")])]),t._v(" "),a("h4",{attrs:{id:"示例-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-3"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("rubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setSubInput")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" text "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'搜索'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"setsubinputvalue-value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setsubinputvalue-value"}},[t._v("#")]),t._v(" setSubInputValue(value)")]),t._v(" "),a("p",[t._v("直接对子输入框的值进行设置。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("value")]),t._v(" String")]),t._v(" "),a("li",[a("code",[t._v("返回")]),t._v(" Boolean")])]),t._v(" "),a("h4",{attrs:{id:"示例-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-4"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("rubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setSubInputValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rubick'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统"}},[t._v("#")]),t._v(" 系统")]),t._v(" "),a("h3",{attrs:{id:"shownotification-body"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shownotification-body"}},[t._v("#")]),t._v(" showNotification(body)")]),t._v(" "),a("p",[t._v("显示系统通知")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("body")]),t._v(" String")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("rubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("showNotification")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hi, rubick'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"shellopenpath-fullpath"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shellopenpath-fullpath"}},[t._v("#")]),t._v(" shellOpenPath(fullPath)")]),t._v(" "),a("p",[t._v("打开给定路径的文件")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("fullPath")]),t._v(" String")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("rubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shellOpenPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/path/file'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"shellopenexternal-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shellopenexternal-url"}},[t._v("#")]),t._v(" shellOpenExternal(url)")]),t._v(" "),a("p",[t._v("浏览器打开URL")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("url")]),t._v(" String")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("rubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shellOpenExternal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://www.baidu.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"getpath-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getpath-name"}},[t._v("#")]),t._v(" getPath(name)")]),t._v(" "),a("p",[t._v("electron 内置 getPath 能力，详见 "),a("a",{attrs:{href:"https://www.electronjs.org/docs/latest/api/app#appgetpathname",target:"_blank",rel:"noopener noreferrer"}},[t._v("electron API"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cache'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"本地数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地数据库"}},[t._v("#")]),t._v(" 本地数据库")]),t._v(" "),a("p",[a("code",[t._v("rubick db")]),t._v(" 是基于开源的 "),a("a",{attrs:{href:"https://github.com/pouchdb/pouchdb",target:"_blank",rel:"noopener noreferrer"}},[t._v("pouchdb"),a("OutboundLink")],1),t._v(" 封装的")]),t._v(" "),a("h3",{attrs:{id:"rubick-db-put-doc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rubick-db-put-doc"}},[t._v("#")]),t._v(" rubick.db.put(doc)")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("doc")]),t._v(" Object")]),t._v(" "),a("li",[a("code",[t._v("返回")]),t._v(" Object")])]),t._v(" "),a("h4",{attrs:{id:"示例-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-5"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建请求")]),t._v("\nrubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 返回 {id: "demo", ok: true, rev: "1-05c9b92e6f24287dc1f4ec79d9a34fa8"}')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 更新请求")]),t._v("\nrubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_rev")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1-05c9b92e6f24287dc1f4ec79d9a34fa8"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("_id 代表这个文档在数据库中唯一值，如果值不存在，则会创建一个新的文档，如果值已经存在，则会进行更新。你可能已经注意到，返回对象中包含一个 rev\n属性，这是代表此文档的版本，每次对文档进行更新时，都要带上最新的版本号，否则更新将失败，版本化的意义在于解决同步时数据冲突。")]),t._v(" "),a("p",[t._v("另外需要注意，每次更新时都要传入完整的文档数据，无法对单个字段进行更新。")]),t._v(" "),a("h3",{attrs:{id:"rubick-db-get-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rubick-db-get-id"}},[t._v("#")]),t._v(" rubick.db.get(id)")]),t._v(" "),a("p",[t._v("执行该方法将会根据文档 ID 获取数据")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("id")]),t._v(" String")]),t._v(" "),a("li",[a("code",[t._v("返回")]),t._v(" Object")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("rubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 返回 {_id: "demo", _rev: "3-9836c5c68af5aef618e17d615882942a", data: "demo"}')]),t._v("\n")])])]),a("h3",{attrs:{id:"rubick-db-remove-doc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rubick-db-remove-doc"}},[t._v("#")]),t._v(" rubick.db.remove(doc)")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("doc")]),t._v(" String | Object")]),t._v(" "),a("li",[a("code",[t._v("返回")]),t._v(" Object 执行该方法将会删除数据库文档，可以传入文档对象或文档 id 进行操作。")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("rubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 返回 {id: "demo", ok: true, rev: "2-effe5dbc23dffc180d8411b23f3108fb"}')]),t._v("\n")])])]),a("h3",{attrs:{id:"rubick-db-bulkdocs-docs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rubick-db-bulkdocs-docs"}},[t._v("#")]),t._v(" rubick.db.bulkDocs(docs)")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("docs")]),t._v(" Array")]),t._v(" "),a("li",[a("code",[t._v("返回")]),t._v(" Array 执行该方法将会批量更新数据库文档，传入需要更改的文档对象合并成数组进行批量更新。")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("rubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bulkDocs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_rev")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1-c8817a74e292eda4cba1a45924853af6"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_rev")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1-f0399b42cc6123a9cc8503632ba7b3a7"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/* 返回\n[{\nid: "demo1", ok: true, rev: "2-7857b2801bc0303d2cc0bb82e8afd796"\n}, {\nid: "demo2", ok: true, rev: "2-7857b2801bc0303d2cc0bb82e8afd796"\n}]\n*/')]),t._v("\n")])])]),a("h3",{attrs:{id:"rubick-db-alldocs-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rubick-db-alldocs-key"}},[t._v("#")]),t._v(" rubick.db.allDocs(key)")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("key")]),t._v(" String | Array")]),t._v(" "),a("li",[a("code",[t._v("返回")]),t._v(" Array 执行该方法将会获取所有数据库文档，如果传入字符串，则会返回以字符串开头的文档，也可以传入指定 ID 的数组，不传入则为获取所有文档。")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取所有文档")]),t._v("\nrubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("allDocs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 传入字符串，则返回id以 demo 开头的文档")]),t._v("\nrubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("allDocs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/* 返回\n[{\n_id: "demo/123", _rev: "2-7857b2801bc0303d2cc0bb82e8afd796", data: "demo"\n}, {\n_id: "demo/124", _rev: "1-f0399b42cc6123a9cc8503632ba7b3a7", data: "demo"\n}, {\n_id: "demo/125", _rev: "1-f0399b42cc6123a9cc8503632ba7b3a7", data: "demo"\n}]\n*/')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据id数组请求")]),t._v("\nrubick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("allDocs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo2"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/* 返回\n[{\n_id: "demo1", _rev: "2-7857b2801bc0303d2cc0bb82e8afd796", data: "demo"\n}, {\n_id: "demo2", _rev: "1-f0399b42cc6123a9cc8503632ba7b3a7", data: "demo"\n}]\n*/')]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);